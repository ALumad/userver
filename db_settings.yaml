# Automatically generated, DON'T EDIT!
#
# Generation time: 2018-08-27 12:37:57 UTC
# Git repository last commit: 3dbc2bca1e107f0a077939600c65363d321aeaad
#
# See wiki for details:
# https://wiki.yandex-team.ru/taxi/backend/datastorage/
#
accepted_eulas:
    settings:
        collection: accepted_eulas
        connection: users
        database: dbusers
adjust_stats:
    settings:
        collection: adjust_stats
        connection: stats
        database: dbstats
adjust_tasks:
    indexes:
      - expireAfterSeconds: 2592000
        key: c
      - key: t
      - key:
          - name: u
            type: ascending
          - name: e
            type: ascending
          - name: c
            type: ascending
        unique: true
    settings:
        collection: adjust_tasks
        connection: stats
        database: dbstats
adjust_users:
    settings:
        collection: adjust_users
        connection: stats
        database: dbstats
admin_confirmations:
    indexes:
      - key: apply_time
        sparse: true
      - key: change_doc_id
        sparse: true
        unique: true
      - key: created
      - key:
          - name: created_by
            type: ascending
          - name: created
            type: descending
      - key: doc_type
      - key: operation_type
      - key: request_id
        unique: true
      - key:
          - name: status
            type: ascending
          - name: created
            type: descending
    settings:
        collection: admin_confirmations
        connection: misc
        database: dbmisc
admin_groups:
    settings:
        collection: admin_groups
        connection: taxi
        database: dbtaxi
antifraud_blacklists_companies:
    settings:
        collection: blacklists_companies
        connection: antifraud
        database: dbantifraud
antifraud_blacklists_contacts:
    settings:
        collection: blacklists_contacts
        connection: antifraud
        database: dbantifraud
antifraud_blacklists_metainfo:
    settings:
        collection: blacklists_metainfo
        connection: antifraud
        database: dbantifraud
antifraud_city_info:
    settings:
        collection: city_info
        connection: antifraud
        database: dbantifraud
antifraud_driver_client_info:
    indexes:
      - key: license
    settings:
        collection: driver_client_info
        connection: antifraud
        database: dbantifraud
antifraud_driver_client_keys:
    indexes:
      - key:
          - name: app_id
            type: ascending
          - name: app_version_code
            type: ascending
        unique: true
    settings:
        collection: driver_client_keys
        connection: antifraud
        database: dbantifraud
antifraud_driver_datamarts:
    indexes:
      - key:
          - name: window
            type: descending
          - name: license
            type: ascending
          - name: yt_update
            type: descending
      - key: yt_update
    settings:
        collection: driver_datamarts
        connection: antifraud
        database: dbantifraud
antifraud_driver_datamarts_info:
    settings:
        collection: driver_datamarts_info
        connection: antifraud
        database: dbantifraud
antifraud_driver_datamarts_info_ng:
    settings:
        collection: driver_datamarts_info_ng
        connection: antifraud
        database: dbantifraud
antifraud_driver_datamarts_ng:
    indexes:
      - key:
          - name: driver_license
            type: ascending
          - name: city
            type: ascending
          - name: window_days
            type: ascending
          - name: yt_update
            type: ascending
      - key: yt_update
    settings:
        collection: driver_datamarts_ng
        connection: antifraud
        database: dbantifraud
antifraud_entity_item:
    settings:
        collection: entity_item
        connection: antifraud
        database: dbantifraud
antifraud_entity_list:
    settings:
        collection: entity_list
        connection: antifraud
        database: dbantifraud
antifraud_orders_feedback:
    indexes:
      - expireAfterSeconds: 604800
        key: created
      - key: date
      - key: updated
    settings:
        collection: antifraud_orders_feedback
        connection: antifraud
        database: dbantifraud
antifraud_personal_subvention_frauders:
    indexes:
      - key:
          - name: rule_apply
            type: descending
          - name: license
            type: ascending
          - name: frauder
            type: ascending
      - expireAfterSeconds: 604800
        key: rule_apply
    settings:
        collection: personal_subvention_frauders
        connection: antifraud
        database: dbantifraud
antifraud_personal_subvention_rules:
    settings:
        collection: personal_subvention_rules
        connection: antifraud
        database: dbantifraud
antifraud_rules:
    settings:
        collection: rules
        connection: antifraud
        database: dbantifraud
antifraud_subvention_frauders:
    indexes:
      - key:
          - name: rule_apply
            type: descending
          - name: order_id
            type: ascending
          - name: frauder
            type: ascending
      - expireAfterSeconds: 604800
        key: rule_apply
    settings:
        collection: subvention_frauders
        connection: antifraud
        database: dbantifraud
antifraud_subvention_rules:
    settings:
        collection: subvention_rules
        connection: antifraud
        database: dbantifraud
antispam_counters:
    indexes:
      - expireAfterSeconds: 3600
        key: updated
    settings:
        collection: antispam_counters
        connection: taxi
        database: dbtaxi
archive_order_proc:
    settings:
        collection: order_proc
        connection: archive
        database: dbarchive
archive_orders:
    settings:
        collection: orders
        connection: archive
        database: dbarchive
archive_personal_subvention_rules:
    indexes:
      - key: end
    settings:
        collection: archive_personal_subvention_rules
        connection: archive
        database: dbarchive
archive_personal_subventions:
    indexes:
      - key: udi
    settings:
        collection: archive_personal_subventions
        connection: archive
        database: dbarchive
auth_changes:
    settings:
        collection: auth_changes
        connection: taxi
        database: dbtaxi
auto_compensations:
    indexes:
      - expireAfterSeconds: 604800
        key: updated
    settings:
        collection: auto_compensations
        connection: misc
        database: dbmisc
auto_dictionary:
    indexes:
      - key:
          - name: code
            type: ascending
          - name: _state
            type: ascending
        unique: true
    settings:
        collection: auto_dictionary
        connection: taxi
        database: dbtaxi
auto_dictionary_special:
    indexes:
      - key: code
        unique: true
    settings:
        collection: auto_dictionary_special
        connection: taxi
        database: dbtaxi
auto_prices:
    settings:
        collection: auto_prices
        connection: taxi
        database: dbtaxi
autoincrement:
    settings:
        collection: autoincrement
        connection: taxi
        database: dbtaxi
bad_gps_geoareas:
    settings:
        collection: bad_gps_geoareas
        connection: taxi
        database: dbtaxi
bad_position_quality:
    indexes:
      - expireAfterSeconds: 172800
        key: updated
    settings:
        collection: bad_position_quality
        connection: misc
        database: dbmisc
billing_task_stats:
    indexes:
      - expireAfterSeconds: 14400
        key: last_calced_at
    settings:
        collection: billing_task_stats
        connection: billing
        database: dbbilling
biometry_photo:
    indexes:
      - expireAfterSeconds: 172800
        key: created
    settings:
        collection: biometry_photo
        connection: qc
        database: qc
biometry_status:
    indexes:
      - key: updated
    settings:
        collection: biometry_status
        connection: qc
        database: qc
biometry_voice:
    indexes:
      - expireAfterSeconds: 172800
        key: created
    settings:
        collection: biometry_voice
        connection: qc
        database: qc
blacklist_history:
    indexes:
      - key: car_number
      - key: created
      - key: license
    settings:
        collection: blacklist_history
        connection: misc
        database: dbmisc
buffer_dispatch_locks:
    settings:
        collection: buffer_dispatch_locks
        connection: noncritical
        database: dbprocessing
bulk_notify_chunks:
    indexes:
      - key: task_id
    settings:
        collection: bulk_notify_chunks
        connection: notify
        database: dbnotify
bulk_notify_tasks:
    indexes:
      - key: promocode_series
        sparse: true
        unique: true
    settings:
        collection: bulk_notify_tasks
        connection: notify
        database: dbnotify
card_counters:
    settings:
        collection: card_counters
        connection: userstats
        database: dbuserstats
cardlocks:
    indexes:
      - key: i
        unique: true
      - key: o
      - key: x
    settings:
        collection: cardlocks
        connection: taxi
        database: dbtaxi
cards:
    indexes:
      - key: busy_with.order_id
        sparse: true
      - key: expiration_date
        sparse: true
      - key: number
      - key:
          - name: owner_uid
            type: ascending
          - name: billing_id
            type: ascending
        unique: true
      - key:
          - name: owner_uid
            type: ascending
          - name: payment_id
            type: ascending
        unique: true
    settings:
        collection: cards
        connection: taxi
        database: dbtaxi
cars:
    indexes:
      - key: is_blacklisted
        sparse: true
      - key: updated
    settings:
        collection: cars
        connection: taxi
        database: dbtaxi
cashless_payments_stats:
    indexes:
      - key:
          - name: clid
            type: ascending
          - name: timestamp
            type: descending
        unique: true
      - expireAfterSeconds: 864000
        key: timestamp
    settings:
        collection: cashless_payments_stats
        connection: stats
        database: dbstats
childchair_brands:
    indexes:
      - key: name
        unique: true
    settings:
        collection: childchair_brands
        connection: chair_brands
        database: dbchair_brands
childchair_rent:
    indexes:
      - expireAfterSeconds: 5184000
        key: created
      - key: due
      - key: updated
    settings:
        collection: childchair_rent
        connection: misc
        database: dbmisc
childchair_rent_transactions:
    indexes:
      - key:
          - name: alias_id
            type: ascending
          - name: version
            type: descending
        unique: true
      - expireAfterSeconds: 5184000
        key: created
    settings:
        collection: childchair_rent_transactions
        connection: misc
        database: dbmisc
cities:
    indexes:
      - key: updated
    settings:
        collection: cities
        connection: taxi
        database: dbtaxi
city_statistics:
    settings:
        collection: city_statistics
        connection: taxi
        database: dbtaxi
classification_rules:
    settings:
        collection: classification_rules
        connection: taxi
        database: dbtaxi
closed_expired_orders:
    indexes:
      - key: order_alias_id
        unique: true
      - expireAfterSeconds: 604800
        key: updated
    settings:
        collection: closed_expired_orders
        connection: taxi
        database: dbtaxi
color_dictionary:
    indexes:
      - key:
          - name: code
            type: ascending
          - name: _state
            type: ascending
        unique: true
    settings:
        collection: color_dictionary
        connection: taxi
        database: dbtaxi
commission_contracts:
    indexes:
      - key:
          - name: cn.z
            type: ascending
          - name: e
            type: ascending
      - key: confirmation_id
        sparse: true
        unique: true
      - key: updated
    settings:
        collection: commission_contracts
        connection: taxi
        database: dbtaxi
commission_reasons:
    indexes:
      - expireAfterSeconds: 604800
        key: created
      - key: order_id
    settings:
        collection: commission_reasons
        connection: subvention_reasons
        database: dbsubvention_reasons
commission_transactions:
    indexes:
      - key:
          - name: a
            type: ascending
          - name: v
            type: descending
        unique: true
      - key:
          - name: c
            type: ascending
          - name: cl
            type: ascending
    settings:
        collection: commission_transactions
        connection: billing
        database: dbbilling
companion_driver_exclusions:
    settings:
        collection: driver_exclusions
        connection: companion
        database: dbcompanion
companion_driver_feedbacks:
    indexes:
      - key:
          - name: driver_id
            type: ascending
          - name: order_id
            type: ascending
        unique: true
      - key: order_id
      - key: user_id
    settings:
        collection: driver_feedbacks
        connection: companion
        database: dbcompanion
companion_driver_refusals:
    indexes:
      - key: driver_id
      - expireAfterSeconds: 0
        key: expire_date
      - key: user_id
    settings:
        collection: driver_refusals
        connection: companion
        database: dbcompanion
companion_drivers:
    indexes:
      - key: alias_id
        unique: true
      - key: last_uuid
      - key:
          - name: last_uuid
            type: ascending
          - name: status
            type: ascending
          - name: status_updated
            type: ascending
        partialFilterExpression:
            last_uuid:
                $exists: true
      - key:
          - name: old_last_uuid
            type: ascending
          - name: gcm_token
            type: ascending
        partialFilterExpression:
            gcm_token:
                $exists: true
            old_last_uuid:
                $exists: true
      - key: order_id
        partialFilterExpression:
            order_id:
                $exists: true
        unique: true
      - key: phone_id
      - key: status_updated
      - key: yandex_uid
        partialFilterExpression:
            yandex_uid:
                $exists: true
    settings:
        collection: drivers
        connection: companion
        database: dbcompanion
companion_geoareas:
    settings:
        collection: geoareas
        connection: companion
        database: dbcompanion
companion_images:
    settings:
        collection: images
        connection: companion
        database: dbcompanion
companion_moderation_queue:
    indexes:
      - key:
          - name: driver_id
            type: ascending
          - name: created
            type: descending
      - key:
          - name: moderate_status
            type: ascending
          - name: processing
            type: ascending
      - key:
          - name: phone_id
            type: ascending
          - name: created
            type: descending
    settings:
        collection: moderation_queue
        connection: companion
        database: dbcompanion
companion_notifications_queue:
    indexes:
      - expireAfterSeconds: 129600
        key: created
      - key:
          - name: group_key
            type: ascending
          - name: event
            type: ascending
          - name: user
            type: ascending
        unique: true
      - key:
          - name: group_key
            type: ascending
          - name: status
            type: ascending
      - key: push_id
        unique: true
      - key: user
    settings:
        collection: notifications_queue
        connection: companion
        database: dbcompanion
companion_offers:
    settings:
        collection: offers
        connection: companion
        database: dbcompanion
companion_orders:
    indexes:
      - key: created
      - key:
          - name: user_id
            type: ascending
          - name: created
            type: descending
      - key: user_phone_id
    settings:
        collection: orders
        connection: companion
        database: dbcompanion
companion_phone_confirms:
    indexes:
      - key:
          - name: session_id
            type: ascending
          - name: status
            type: ascending
      - key: track_id
        unique: true
    settings:
        collection: phone_confirms
        connection: companion
        database: dbcompanion
companion_phone_masking:
    indexes:
      - key:
          - name: order_id
            type: ascending
          - name: callee
            type: ascending
          - name: caller
            type: ascending
      - key:
          - name: order_id
            type: ascending
          - name: status
            type: ascending
    settings:
        collection: phone_masking
        connection: companion
        database: dbcompanion
companion_phones:
    indexes:
      - key: number
        unique: true
    settings:
        collection: phones
        connection: companion
        database: dbcompanion
companion_routes:
    indexes:
      - key: distance
      - key: driver_id
      - key:
          - name: route
            type: 2dsphere
      - expireAfterSeconds: 1800
        key: updated
      - key: uuid
        unique: true
      - key: zone_name
    settings:
        collection: routes
        connection: companion
        database: dbcompanion
companion_routes_history:
    indexes:
      - key: created
      - key: uuid
    settings:
        collection: routes_history
        connection: companion
        database: dbcompanion
companion_tariff_settings:
    settings:
        collection: tariff_settings
        connection: companion
        database: dbcompanion
companion_tariffs:
    settings:
        collection: tariffs
        connection: companion
        database: dbcompanion
companion_user_accounts:
    settings:
        collection: user_accounts
        connection: companion
        database: dbcompanion
companion_user_phones:
    indexes:
      - key: phone
        unique: true
    settings:
        collection: user_phones
        connection: companion
        database: dbcompanion
companion_users:
    settings:
        collection: users
        connection: companion
        database: dbcompanion
competitor_counters:
    settings:
        collection: competitor_counters
        connection: taxi
        database: dbtaxi
config:
    indexes:
      - key: updated
    settings:
        collection: config
        connection: taxi
        database: dbtaxi
corp_acl_common:
    indexes:
      - key: yandex_uid
        unique: true
    settings:
        collection: acl_common
        connection: corp
        database: dbcorp
corp_admins:
    settings:
        collection: admins
        connection: corp
        database: dbcorp
corp_client_requests:
    indexes:
      - key: city
      - key: client_id
        partialFilterExpression:
            client_id:
                $exists: true
        unique: true
      - key: company_name
      - key: company_tin
        partialFilterExpression:
            status: pending
        unique: true
      - key:
          - name: company_tin
            type: ascending
          - name: yandex_login
            type: ascending
        partialFilterExpression:
            is_active: true
        unique: true
      - key: status
      - key: yandex_login
        partialFilterExpression:
            is_active: true
        unique: true
    settings:
        collection: client_requests
        connection: corp
        database: dbcorp
corp_clients:
    indexes:
      - key: contract_id
      - key: email
      - key: name
      - key: yandex_id
        unique: true
      - key: yandex_login
        unique: true
    settings:
        collection: clients
        connection: corp
        database: dbcorp
corp_contract_managers:
    settings:
        collection: contract_managers
        connection: corp
        database: dbcorp
corp_history:
    indexes:
      - expireAfterSeconds: 5184000
        key: d
      - key: e._id
      - key: p
    settings:
        collection: history
        connection: corp
        database: dbcorp
corp_managers:
    indexes:
      - key: client_id
      - key: yandex_login
        unique: true
      - key: yandex_uid
        unique: true
    settings:
        collection: managers
        connection: corp
        database: dbcorp
corp_notifications:
    indexes:
      - key:
          - name: entity_type
            type: ascending
          - name: entity_id
            type: ascending
        unique: true
      - key: in_progress
        partialFilterExpression:
            in_progress:
                $exists: true
    settings:
        collection: notifications
        connection: corp
        database: dbcorp
corp_orders:
    indexes:
      - key: client_id
      - key: corp_user.user_id
      - key: due_date
      - key: finished_date
    settings:
        collection: orders
        connection: corp
        database: dbcorp
corp_roles:
    indexes:
      - key:
          - name: client_id
            type: ascending
          - name: is_cabinet_only
            type: ascending
        partialFilterExpression:
            is_cabinet_only:
                $eq: true
        unique: true
      - key:
          - name: client_id
            type: ascending
          - name: name
            type: ascending
        unique: true
    settings:
        collection: roles
        connection: corp
        database: dbcorp
corp_users:
    indexes:
      - key: client_id
      - key: fullname
      - key: phone
      - key: email
      - key:
          - name: phone_id
            type: ascending
          - name: client_id
            type: ascending
        unique: true
      - key: updated
        sparse: true
    settings:
        collection: users
        connection: corp
        database: dbcorp
countries:
    settings:
        collection: countries
        connection: taxi
        database: dbtaxi
coupon_frauders:
    indexes:
      - expireAfterSeconds: 86400
        key: created
    settings:
        collection: coupon_frauders
        connection: taxi
        database: dbtaxi
coupon_series:
    settings:
        collection: coupon_series
        connection: taxi
        database: dbtaxi
cron_jobs:
    indexes:
      - key:
          - name: name
            type: ascending
          - name: started_at
            type: ascending
    settings:
        collection: cron_jobs
        connection: taxi
        database: dbtaxi
cron_monitor:
    indexes:
      - key: updated
    settings:
        collection: cron_monitor
        connection: taxi
        database: dbtaxi
cron_tasks:
    indexes:
      - key: end_time
      - key:
          - name: name
            type: ascending
          - name: start_time
            type: ascending
      - expireAfterSeconds: 2592000
        key: start_time
    settings:
        collection: cron_tasks
        connection: taxi
        database: dbtaxi
currencies:
    indexes:
      - key: iso_code
        unique: true
    settings:
        collection: currencies
        connection: taxi
        database: dbtaxi
currency_rates:
    indexes:
      - key:
          - name: timestamp
            type: ascending
          - name: from_currency
            type: ascending
          - name: to_currency
            type: ascending
        unique: true
    settings:
        collection: currency_rates
        connection: taxi
        database: dbtaxi
dbcars:
    indexes:
      - key: car_id
      - key: modified_date
      - key: number
      - key:
          - name: park_id
            type: ascending
          - name: car_id
            type: ascending
        unique: true
    settings:
        collection: cars
        connection: cars
        database: dbcars
dbcities:
    indexes:
      - key: country
      - key: geoarea
      - key: modified_date
      - key: name
        unique: true
    settings:
        collection: cities
        connection: parks
        database: dbparks
dbcountries:
    indexes:
      - key: modified_date
      - key: name
        unique: true
    settings:
        collection: countries
        connection: parks
        database: dbparks
dbdrivers:
    indexes:
      - key: driver_id
      - key: license
      - key: license_normalized
      - key: modified_date
      - key:
          - name: park_id
            type: ascending
          - name: driver_id
            type: ascending
        unique: true
      - key: phones
      - key: uber_driver_id
        sparse: true
    settings:
        collection: drivers
        connection: drivers
        database: dbdrivers
dbparks:
    indexes:
      - key: city
      - key: driver_partner_source
        sparse: true
      - key: is_active
      - key: login
        unique: true
      - key: modified_date
      - key: provider_config.yandex.clid
      - key: providers
    settings:
        collection: parks
        connection: parks
        database: dbparks
dbparks_park_table_map:
    settings:
        collection: park_table_map
        connection: parks
        database: dbparks
dbparks_table_shard_map:
    settings:
        collection: table_shard_map
        connection: parks
        database: dbparks
device_counters:
    settings:
        collection: device_counters
        connection: userstats
        database: dbuserstats
devicelocks:
    indexes:
      - key: i
        unique: true
      - key: o
      - key: x
    settings:
        collection: devicelocks
        connection: taxi
        database: dbtaxi
devices_stats:
    indexes:
      - key: device_id
        unique: true
      - key: user_phone_id
    settings:
        collection: devices_stats
        connection: taxi
        database: dbtaxi
discount_users:
    settings:
        collection: discount_users
        connection: noncritical
        database: dbprocessing
discount_users_misc:
    settings:
        collection: discount_users_misc
        connection: misc
        database: dbmisc
disp_groups:
    settings:
        collection: disp_groups
        connection: parks
        database: dbparks
disp_users:
    settings:
        collection: disp_users
        connection: parks
        database: dbparks
dispatch_order_meta:
    settings:
        collection: dispatch_order_meta
        connection: noncritical
        database: dbprocessing
distlock:
    indexes:
      - expireAfterSeconds: 60
        key: t
    settings:
        collection: distlock
        connection: taxi
        database: dbtaxi
done_personal_subventions:
    indexes:
      - expireAfterSeconds: 172800
        key: na
      - key:
          - name: nn
            type: ascending
          - name: ri
            type: ascending
      - key:
          - name: ri
            type: ascending
          - name: o
            type: ascending
    settings:
        collection: done_personal_subventions
        connection: noncritical
        database: dbprocessing
driver_events:
    indexes:
      - key:
          - name: driver_id
            type: ascending
          - name: order_id
            type: ascending
        unique: true
      - key:
          - name: unique_driver_id
            type: ascending
          - name: processed
            type: ascending
      - expireAfterSeconds: 604800
        key: updated
    settings:
        collection: driver_events
        connection: driver_events
        database: dbdriver_events
driver_imports:
    settings:
        collection: driver_imports
        connection: taxi
        database: dbtaxi
driver_informed_consent:
    indexes:
      - key: declined
        sparse: true
    settings:
        collection: driver_informed_consent
        connection: smsconsent
        database: dbsmsconsent
driver_ivr_sessions:
    indexes:
      - expireAfterSeconds: 86400
        key: created
    settings:
        collection: driver_ivr_sessions
        connection: misc
        database: dbmisc
driver_paths:
    indexes:
      - expireAfterSeconds: 600
        key: created
      - key:
          - name: driver_id
            type: ascending
          - name: order_id
            type: ascending
        unique: true
    settings:
        collection: driver_paths
        connection: driver_paths
        database: dbdriver_paths
driver_payment_type:
    indexes:
      - key: cleanup_datetime
        sparse: true
      - key: updated
    settings:
        collection: driver_payment_type
        connection: taxi
        database: dbtaxi
driver_sources:
    settings:
        collection: driver_sources
        connection: noncritical
        database: dbprocessing
driver_tags:
    settings:
        collection: driver_tags
        connection: taxi
        database: dbtaxi
driver_tags_yt:
    settings:
        collection: driver_tags_yt
        connection: taxi
        database: dbtaxi
driver_weariness:
    indexes:
      - key:
          - name: _id
            type: hashed
      - key: is_tired
      - key: tired_status
      - expireAfterSeconds: 86400
        key: updated
    settings:
        collection: driver_weariness
        connection: status_history
        database: dbstatus_history
driver_workshifts:
    indexes:
      - expireAfterSeconds: 15552000
        key: created
      - key: date_finish
      - key:
          - name: driver_id
            type: ascending
          - name: date_finish
            type: ascending
      - key: workshifts_counter
        sparse: true
        unique: true
    settings:
        collection: driver_workshifts
        connection: taxi
        database: dbtaxi
drivers:
    indexes:
      - key:
          - name: _state
            type: ascending
          - name: updated
            type: ascending
      - key: car.number
      - key: clid
      - key: driver_license
      - key: grade_updated
      - key: meta_updated
      - key: online.e
        sparse: true
      - key: phone
      - key: status_updated
      - key: updated
      - key: uuid
    settings:
        collection: drivers
        connection: taxi
        database: dbtaxi
eta:
    settings:
        collection: eta
        connection: gprstimings
        database: gprstimings
event_monitor:
    indexes:
      - key:
          - name: created
            type: ascending
          - name: name
            type: ascending
      - key:
          - name: name
            type: ascending
          - name: created
            type: ascending
    settings:
        collection: event_monitor
        connection: logs
        database: dblogs
event_stats:
    indexes:
      - expireAfterSeconds: 3600
        key: created
      - key:
          - name: name
            type: ascending
          - name: created
            type: ascending
        unique: true
    settings:
        collection: event_stats
        connection: misc
        database: dbmisc
exam_results:
    indexes:
      - key:
          - name: license
            type: ascending
          - name: course
            type: ascending
        unique: true
      - key: updated
    settings:
        collection: results
        connection: exams
        database: dbexams
exams:
    indexes:
      - key: created
      - key: profile-licence-serial
    settings:
        collection: exams
        connection: taxi
        database: dbtaxi
exams_bulk:
    settings:
        collection: exams_bulk
        connection: taxi
        database: dbtaxi
exams_users:
    indexes:
      - key: api_token
        sparse: true
        unique: true
    settings:
        collection: exams_users
        connection: taxi
        database: dbtaxi
excluded_drivers:
    indexes:
      - key: i
      - expireAfterSeconds: 0
        key: t
    settings:
        collection: excluded_drivers
        connection: taxi
        database: dbtaxi
experiments:
    settings:
        collection: experiments
        connection: experiments
        database: dbexperiments
experiments_files:
    settings:
        collection: files
        connection: experiments
        database: dbexperiments
experiments_filters:
    settings:
        collection: filters
        connection: experiments
        database: dbexperiments
experiments_history:
    settings:
        collection: experiments_history
        connection: experiments
        database: dbexperiments
feedback_choices:
    settings:
        collection: feedback_choices
        connection: taxi
        database: dbtaxi
feedback_reports:
    indexes:
      - expireAfterSeconds: 604800
        key: created
      - key: order_id
    settings:
        collection: feedback_reports
        connection: taxi
        database: dbtaxi
finance_tickets_zendesk:
    indexes:
      - key: order_id
      - key:
          - name: ticket_id
            type: ascending
          - name: zendesk_id
            type: ascending
        unique: true
    settings:
        collection: finance_tickets_zendesk
        connection: taxi
        database: dbtaxi
fullscreen_banners:
    indexes:
      - key: name
        unique: true
    settings:
        collection: fullscreen_banners
        connection: taxi
        database: dbtaxi
geoareas:
    indexes:
      - key: created
      - key:
          - name: geometry
            type: 2dsphere
      - key: name
    settings:
        collection: geoareas
        connection: taxi
        database: dbtaxi
geofence_events:
    indexes:
      - key: event_id
        unique: true
      - expireAfterSeconds: 0
        key: expire_date
      - key:
          - name: zone_id
            type: ascending
          - name: event_id
            type: ascending
    settings:
        collection: events
        connection: geofence
        database: dbgeofence
geofence_lb_commits:
    indexes:
      - key: partition
        unique: true
    settings:
        collection: commit_offsets
        connection: geofence
        database: dbgeofence
geofence_zones:
    indexes:
      - key: name
        unique: true
      - key: zone_id
        unique: true
    settings:
        collection: geozones
        connection: geofence
        database: dbgeofence
geofences:
    indexes:
      - key:
          - name: updated
            type: descending
    settings:
        collection: geofences
        connection: gprstimings
        database: gprstimings
geoobjsuggplaces:
    settings:
        collection: geoobjsuggplaces
        connection: taxi
        database: dbtaxi
golden_cars:
    settings:
        collection: golden_cars
        connection: taxi
        database: dbtaxi
goldization_changes:
    settings:
        collection: goldization_changes
        connection: misc
        database: dbmisc
gprstimings_data:
    indexes:
      - expireAfterSeconds: 604800
        key: ts
    settings:
        collection: data
        connection: gprstimings
        database: gprstimings
hidden_orders:
    indexes:
      - key: created
      - key:
          - name: phone_id
            type: ascending
          - name: order_created
            type: ascending
    settings:
        collection: hidden_orders
        connection: orderhistory
        database: dborderhistory
holded_driver_balances:
    settings:
        collection: holded_driver_balances
        connection: subvention_reasons
        database: dbsubvention_reasons
holded_subventions:
    indexes:
      - key:
          - name: a
            type: ascending
          - name: v
            type: descending
        unique: true
      - key:
          - name: c
            type: descending
      - key: c
        partialFilterExpression:
            is_added_to_balance:
                $eq: false
      - key: clear_time
        partialFilterExpression:
            hold_status:
                $eq: holded
      - key:
          - name: hold_status
            type: ascending
          - name: u
            type: ascending
      - key: o
      - key: u
    settings:
        collection: holded_subventions
        connection: subvention_reasons
        database: dbsubvention_reasons
holded_subventions_config:
    indexes:
      - key: home_zone
        unique: true
    settings:
        collection: holded_subventions_config
        connection: subvention_reasons
        database: dbsubvention_reasons
holded_taximeter_driver_balances:
    indexes:
      - key:
          - name: db_id
            type: ascending
          - name: uuid
            type: ascending
        unique: true
    settings:
        collection: holded_taximeter_driver_balances
        connection: subvention_reasons
        database: dbsubvention_reasons
images:
    indexes:
      - key: tags
    settings:
        collection: images
        connection: taxi
        database: dbtaxi
insured_orders_counts:
    indexes:
      - key:
          - name: date
            type: descending
          - name: insurer_id
            type: ascending
        unique: true
    settings:
        collection: insured_orders_counts
        connection: insurance
        database: dbinsurance
insured_orders_export:
    indexes:
      - key:
          - name: date
            type: descending
          - name: insurer_id
            type: ascending
        unique: true
    settings:
        collection: insured_orders_export
        connection: insurance
        database: dbinsurance
insurers:
    settings:
        collection: insurers
        connection: insurance
        database: dbinsurance
iso_currencies:
    settings:
        collection: iso_currencies
        connection: misc
        database: dbmisc
ivr_dispatcher_actions:
    settings:
        collection: ivr_dispatcher_actions
        connection: taxi
        database: dbtaxi
ivr_dispatcher_sessions:
    settings:
        collection: ivr_dispacther_sessions
        connection: taxi
        database: dbtaxi
ivr_dispatcher_tasks:
    settings:
        collection: ivr_dispatcher_tasks
        connection: taxi
        database: dbtaxi
localization_client_messages:
    settings:
        collection: localization.taxi.client_messages
        connection: localizations
        database: localizations
localization_color:
    settings:
        collection: localization.taxi.color
        connection: localizations
        database: localizations
localization_corp:
    settings:
        collection: localization.taxi.corp
        connection: localizations
        database: localizations
localization_geoareas:
    settings:
        collection: localization.taxi.geoareas
        connection: localizations
        database: localizations
localization_itaxi_messages:
    settings:
        collection: localization.taxi.itaxi_messages
        connection: localizations
        database: localizations
localization_ivr_messages:
    settings:
        collection: localization.taxi.ivr_messages
        connection: localizations
        database: localizations
localization_locales:
    settings:
        collection: localization.taxi.locales
        connection: localizations
        database: localizations
localization_notify:
    settings:
        collection: localization.taxi.notify
        connection: localizations
        database: localizations
localization_override_az:
    settings:
        collection: localization.taxi.override_az
        connection: localizations
        database: localizations
localization_poputka:
    settings:
        collection: localization.taxi.poputka
        connection: localizations
        database: localizations
localization_tariff:
    settings:
        collection: localization.taxi.tariff
        connection: localizations
        database: localizations
localization_taximeter_backend_driver_messages:
    settings:
        collection: localization.taximeter.backend_driver_messages
        connection: localizations
        database: localizations
localization_taximeter_backend_messages:
    settings:
        collection: localization.taximeter.backend_messages
        connection: localizations
        database: localizations
localization_taximeter_driver_messages:
    settings:
        collection: localization.taximeter.driver_messages
        connection: localizations
        database: localizations
localization_taximeter_driver_messages_az:
    settings:
        collection: localization.taximeter.driver_messages_az
        connection: localizations
        database: localizations
localization_taximeter_messages:
    settings:
        collection: localization.taxi.taximeter_messages
        connection: localizations
        database: localizations
localization_zendesk_forms:
    settings:
        collection: localization.taxi.zendesk_forms
        connection: localizations
        database: localizations
locks:
    indexes:
      - key: type
        unique: true
    settings:
        collection: locks
        connection: taxi
        database: dbtaxi
log_admin:
    indexes:
      - key: action
      - key: arguments._id
        sparse: true
      - key: login
      - key: ticket
        sparse: true
      - key: timestamp
    settings:
        collection: admin
        connection: logs
        database: dblogs
log_imports:
    indexes:
      - key:
          - name: park
            type: ascending
          - name: type
            type: ascending
          - name: time
            type: descending
      - expireAfterSeconds: 21600
        key: time
    settings:
        collection: imports
        connection: logs
        database: dblogs
log_partners:
    indexes:
      - key: park
      - expireAfterSeconds: 21600
        key:
          - name: time
            type: descending
      - key: type
    settings:
        collection: partners
        connection: logs
        database: dblogs
log_server_responses:
    indexes:
      - key: _link
      - key:
          - name: meta.n
            type: ascending
          - name: meta.v
            type: ascending
          - name: time
            type: descending
      - key: time
    settings:
        collection: servers_response
        connection: logs
        database: dblogs
log_servers:
    indexes:
      - key: _link
      - key: time
    settings:
        collection: servers
        connection: logs
        database: dblogs
log_voice_gateway_stat:
    settings:
        collection: voice_gateway_stat
        connection: logs
        database: dblogs
logs_from_yt_tasks:
    settings:
        collection: logs_from_yt_tasks
        connection: misc
        database: dbmisc
messages:
    settings:
        collection: messages
        connection: taxi
        database: dbtaxi
metadata_keyset_mappings:
    settings:
        collection: metadata.keyset_mappings
        connection: localizations
        database: localizations
mia_requests:
    indexes:
      - key: created
    settings:
        collection: mia_requests
        connection: misc
        database: dbmisc
missing_taximeter_balance_changes:
    indexes:
      - expireAfterSeconds: 5184000
        key: created
      - key:
          - name: created
            type: ascending
          - name: _id
            type: ascending
      - key:
          - name: trust_payment_id
            type: ascending
          - name: payment_type
            type: ascending
          - name: sequence_number
            type: descending
        unique: true
    settings:
        collection: missing_taximeter_balance_changes
        connection: driver_payments
        database: dbdriver_payments
monitorings:
    settings:
        collection: monitorings
        connection: taxi
        database: dbtaxi
mph_results:
    indexes:
      - expireAfterSeconds: 2592000
        key: updated
    settings:
        collection: mph_results
        connection: taxi
        database: dbtaxi
mph_thresholds:
    indexes:
      - key: updated
    settings:
        collection: mph_thresholds
        connection: taxi
        database: dbtaxi
multiapp_drivers:
    settings:
        collection: multiapp_drivers
        connection: misc
        database: dbmisc
mystery_shopper_phones:
    indexes:
      - key: phone
        unique: true
    settings:
        collection: mystery_shopper_phones
        connection: misc
        database: dbmisc
newdriver_requests:
    settings:
        collection: newdriver_requests
        connection: misc
        database: dbmisc
news:
    indexes:
      - key: city
      - key:
          - name: created
            type: descending
      - key: login
    settings:
        collection: news
        connection: taxi
        database: dbtaxi
newyear2018:
    settings:
        collection: newyear2018
        connection: promo
        database: dbpromo
notifications_queue:
    indexes:
      - key:
          - name: group_key
            type: ascending
          - name: index
            type: ascending
      - key:
          - name: payload.id
            type: ascending
          - name: user_id
            type: ascending
        sparse: true
      - key: received
        sparse: true
      - expireAfterSeconds: 129600
        key: registered
    settings:
        collection: notifications_queue
        connection: noncritical
        database: dbprocessing
order_billings:
    indexes:
      - key: updated
    settings:
        collection: order_billings
        connection: billing
        database: dbbilling
order_events:
    indexes:
      - key:
          - name: order_id
            type: ascending
          - name: order_event_ref
            type: ascending
        unique: true
      - key:
          - name: order_id
            type: hashed
    settings:
        collection: order_events
        connection: billing_orders
        database: dbbilling_orders
order_mdata:
    settings:
        collection: order_mdata
        connection: logs
        database: dblogs
order_offers:
    indexes:
      - expireAfterSeconds: 1800
        key: created
      - key:
          - name: user_id
            type: ascending
          - name: created
            type: descending
    settings:
        collection: order_offers
        connection: noncritical
        database: dbprocessing
order_proc:
    indexes:
      - key: aliases.due
      - key: aliases.id
      - key: candidates.alias_id
      - key:
          - name: candidates.driver_id
            type: ascending
          - name: updated
            type: ascending
      - key: created
      - key: needs_billing
        sparse: true
      - key:
          - name: order.user_id
            type: ascending
          - name: status
            type: ascending
      - key: order.user_phone_id
      - key: order_info.umbrella_order_id
        sparse: true
      - key: processing.need_start
        sparse: true
      - key: reorder.id
        sparse: true
      - key: status
        partialFilterExpression:
            status:
                $eq: assigned
      - key: updated
      - key: voucher.id
        sparse: true
        unique: true
    settings:
        collection: order_proc
        connection: noncritical
        database: dbprocessing
order_reports_sent:
    indexes:
      - expireAfterSeconds: 86400
        key: updated
    settings:
        collection: order_reports_sent
        connection: misc
        database: dbmisc
order_talks:
    indexes:
      - key: forwardings.forwarding_id
      - key: talks.start
      - key: updated
        sparse: true
    settings:
        collection: order_talks
        connection: taxi
        database: dbtaxi
ordermessages:
    indexes:
      - key:
          - name: order
            type: ascending
          - name: db
            type: ascending
    settings:
        collection: ordermessages
        connection: ordermessages
        database: ordermessages
orders:
    indexes:
      - key: _type
      - key: billing.commit
      - key: billing
      - key: billing_tech.transactions.holded
        partialFilterExpression:
            billing_tech.transactions.holded:
                $type: date
      - key:
          - name: city
            type: ascending
          - name: created
            type: descending
      - key: created
      - key: creditcard.credentials.card_id
        sparse: true
      - key: device_id
        sparse: true
      - key: feedback.u
        sparse: true
      - key: need_sync_grades
        sparse: true
      - key: payment_tech.need_accept
        sparse: true
      - key: payment_tech.need_disp_accept
        sparse: true
      - key:
          - name: performer.clid
            type: ascending
          - name: request.due
            type: descending
      - key:
          - name: performer.clid
            type: ascending
          - name: taxi_status
            type: ascending
          - name: request.due
            type: descending
      - key: performer.taxi_alias.id
      - key: reorder.id
        sparse: true
      - key: request.due
      - key: rsk
        sparse: true
        unique: true
      - key: status
      - key:
          - name: taxi_status
            type: ascending
          - name: request.due
            type: descending
      - key: updated
      - key: user_id
      - key: user_phone_id
    settings:
        collection: orders
        connection: taxi
        database: dbtaxi
orders_stats:
    settings:
        collection: orders_stats
        connection: taxi
        database: dbtaxi
paf_apns_tokens:
    indexes:
      - key: m
        unique: true
      - key: o
      - key: r
        partialFilterExpression:
            r: 0
    settings:
        collection: paf_apns_tokens
        connection: paf
        database: dbpaf
paf_cards:
    indexes:
      - key: m
        unique: true
      - key: o
      - key: r
        partialFilterExpression:
            r: 0
    settings:
        collection: paf_cards
        connection: paf
        database: dbpaf
paf_devices:
    indexes:
      - key: m
        unique: true
      - key: o
      - key: r
        partialFilterExpression:
            r: 0
    settings:
        collection: paf_devices
        connection: paf
        database: dbpaf
paf_gcm_tokens:
    indexes:
      - key: m
        unique: true
      - key: o
      - key: r
        partialFilterExpression:
            r: 0
    settings:
        collection: paf_gcm_tokens
        connection: paf
        database: dbpaf
park_statistics:
    settings:
        collection: park_statistics
        connection: taxi
        database: dbtaxi
parks:
    indexes:
      - key: city
      - key:
          - name: city
            type: ascending
          - name: _id
            type: ascending
      - key: name
      - key: updated
      - key: yandex_login
    settings:
        collection: parks
        connection: taxi
        database: dbtaxi
participants:
    indexes:
      - key: participant_id
      - key:
          - name: program_id
            type: ascending
          - name: need_sync
            type: ascending
        partialFilterExpression:
            need_sync:
                $exists: true
      - key:
          - name: program_id
            type: ascending
          - name: participant_id
            type: ascending
        unique: true
      - key:
          - name: program_id
            type: ascending
          - name: unique_driver_id
            type: ascending
        unique: true
      - key: unique_driver_id
    settings:
        collection: participants
        connection: promo
        database: dbpromo
partner_programs:
    settings:
        collection: programs
        connection: promo
        database: dbpromo
partner_requests:
    settings:
        collection: partner_requests
        connection: taxi
        database: dbtaxi
partners:
    settings:
        collection: partners
        connection: taxi
        database: dbtaxi
payment_headers:
    indexes:
      - key: task_id
      - expireAfterSeconds: 1728000
        key: updated
    settings:
        collection: payment_headers
        connection: billing
        database: dbbilling
payment_headers_without_clid:
    settings:
        collection: payment_headers_without_clid
        connection: billing
        database: dbbilling
pending_transactions:
    indexes:
      - key: created
    settings:
        collection: pending_transactions
        connection: noncritical
        database: dbprocessing
permits:
    indexes:
      - key: city
    settings:
        collection: permits
        connection: taxi
        database: dbtaxi
personal_phones:
    indexes:
      - key: created
      - key:
          - name: shard_id
            type: ascending
          - name: value
            type: ascending
        unique: true
    settings:
        collection: phones
        connection: personal
        database: dbpersonal
personal_subvention_frauders:
    indexes:
      - key:
          - name: md
            type: ascending
          - name: dl
            type: ascending
    settings:
        collection: personal_subvention_frauders
        connection: billing
        database: dbbilling
personal_subvention_rule_orders:
    indexes:
      - key: u
      - key:
          - name: udi
            type: ascending
          - name: md
            type: ascending
        unique: true
    settings:
        collection: personal_subvention_rule_orders
        connection: billing
        database: dbbilling
personal_subvention_rules:
    indexes:
      - key: end
      - key: needs_notification
        sparse: true
      - key: tariffzone
      - key: updated
        sparse: true
    settings:
        collection: personal_subvention_rules
        connection: noncritical
        database: dbprocessing
personal_subvention_uploads:
    indexes:
      - key:
          - name: created_at
            type: descending
          - name: _id
            type: ascending
    settings:
        collection: personal_subvention_uploads
        connection: misc
        database: dbmisc
personal_subventions:
    indexes:
      - key: e
      - key: ri
      - key: u
      - key: udi
    settings:
        collection: personal_subventions
        connection: noncritical
        database: dbprocessing
phone_counters:
    settings:
        collection: phone_counters
        connection: userstats
        database: dbuserstats
phone_geoobjects:
    indexes:
      - key: en.full_text
      - key: last_ordered
      - key: phone_id
      - key: ru.full_text
      - key:
          - name: ru.point
            type: 2dsphere
      - key: yandex_uid
        sparse: true
    settings:
        collection: phone_geoobjects
        connection: taxi
        database: dbtaxi
phone_history:
    indexes:
      - expireAfterSeconds: 5184000
        key: created
      - key:
          - name: phone_id
            type: ascending
          - name: created
            type: descending
    settings:
        collection: phone_history
        connection: userhistory
        database: dbuserhistory
phone_history_old:
    indexes:
      - expireAfterSeconds: 5184000
        key: created
      - key:
          - name: phone_id
            type: ascending
          - name: created
            type: descending
    settings:
        collection: phone_history
        connection: taxi
        database: dbtaxi
phonelocks:
    indexes:
      - key: i
        unique: true
      - key: o
      - key: x
    settings:
        collection: phonelocks
        connection: taxi
        database: dbtaxi
phones_confirmations:
    indexes:
      - key: bound_portal_uid
        sparse: true
      - key: phone_id
      - key:
          - name: uid
            type: ascending
          - name: phone_id
            type: ascending
        unique: true
    settings:
        collection: phones_confirmations
        connection: phones_confirms
        database: dbphones_confirms
pickup_groups:
    indexes:
      - key: request_id
        unique: true
    settings:
        collection: pickup_groups
        connection: gprstimings
        database: gprstimings
pickup_ml_points:
    settings:
        collection: ml_points
        connection: pickuppoints
        database: dbpickuppoints
pickup_points:
    settings:
        collection: points
        connection: pickuppoints
        database: dbpickuppoints
pickup_zone_types:
    settings:
        collection: zone_types
        connection: pickuppoints
        database: dbpickuppoints
pickup_zones:
    settings:
        collection: zones
        connection: pickuppoints
        database: dbpickuppoints
pin_stats:
    indexes:
      - expireAfterSeconds: 1200.0
        key: created
      - key: geohash
      - key: user_id
    settings:
        collection: pin_stats
        connection: pinstats
        database: dbpinstats
price_modifiers:
    indexes:
      - key: country
        unique: true
    settings:
        collection: price_modifiers
        connection: taxi
        database: dbtaxi
private_car_numbers:
    settings:
        collection: private_car_numbers
        connection: taxi
        database: dbtaxi
promo_stories:
    indexes:
      - key: name
        unique: true
    settings:
        collection: promo_stories
        connection: promo
        database: dbpromo
promocode_compensations:
    indexes:
      - key:
          - name: a
            type: ascending
          - name: v
            type: descending
        unique: true
      - key: c
      - key:
          - name: p
            type: ascending
          - name: od
            type: descending
      - key:
          - name: p
            type: ascending
          - name: od
            type: ascending
        partialFilterExpression:
            ts: no_offer
      - key:
          - name: ts
            type: ascending
          - name: c
            type: ascending
      - key: u
        sparse: true
    settings:
        collection: promocode_compensations
        connection: billing
        database: dbbilling
promocode_fraud:
    indexes:
      - expireAfterSeconds: 3600
        key: u
    settings:
        collection: promocode_fraud
        connection: paf
        database: dbpaf
promocode_gen:
    indexes:
      - key: series_id
    settings:
        collection: promocode_gen
        connection: taxi
        database: dbtaxi
promocode_invoices:
    indexes:
      - key: alias_id
        unique: true
      - key: updated
        sparse: true
    settings:
        collection: promocode_invoices
        connection: billing
        database: dbbilling
promocode_refclaims:
    indexes:
      - key:
          - name: series_id
            type: ascending
          - name: user_phone_id
            type: ascending
        unique: true
    settings:
        collection: promocode_refclaims
        connection: taxi
        database: dbtaxi
promocode_referrals:
    indexes:
      - key: creator_phone_id
        unique: true
      - key: promocodes._id
    settings:
        collection: promocode_referrals
        connection: taxi
        database: dbtaxi
promocode_series:
    indexes:
      - key: cities
        sparse: true
      - key: country
        sparse: true
      - key: finish
      - key:
          - name: for_support
            type: ascending
          - name: clear_text
            type: ascending
      - key: start
    settings:
        collection: promocode_series
        connection: taxi
        database: dbtaxi
promocode_usages:
    indexes:
      - key: card_id
        sparse: true
      - key: code
        sparse: true
      - key: code_hash
        sparse: true
      - key: device_id
        sparse: true
      - key: phone_id
      - key: reserve
      - key: series_id
      - key: updated
    settings:
        collection: promocode_usages
        connection: taxi
        database: dbtaxi
promocode_usages2:
    indexes:
      - key: code
      - key:
          - name: series_id
            type: ascending
          - name: code
            type: ascending
          - name: phone_id
            type: ascending
        unique: true
      - key: usages.reserve
        sparse: true
        unique: true
    settings:
        collection: promocode_usages2
        connection: taxi
        database: dbtaxi
promocodes:
    indexes:
      - key: code
        sparse: true
        unique: true
      - key: code_hash
      - key: phone_id
      - key: series_id
      - key:
          - name: series_id
            type: ascending
          - name: code
            type: ascending
          - name: code_hash
            type: ascending
        unique: true
    settings:
        collection: promocodes
        connection: taxi
        database: dbtaxi
promotions:
    settings:
        collection: promotions
        connection: taxi
        database: dbtaxi
push_events:
    indexes:
      - expireAfterSeconds: 600
        key: handled
    settings:
        collection: push_events
        connection: gprstimings
        database: gprstimings
qc_entities:
    indexes:
      - key:
          - name: entity_type
            type: ascending
          - name: data.modified
            type: ascending
        partialFilterExpression:
            data.modified:
                $exists: true
      - key:
          - name: entity_type
            type: ascending
          - name: entity_id
            type: ascending
        unique: true
      - key:
          - name: entity_type
            type: ascending
          - name: groups
            type: ascending
        partialFilterExpression:
            groups:
                $exists: true
      - key:
          - name: entity_type
            type: ascending
          - name: groups
            type: ascending
          - name: data.modified
            type: ascending
        partialFilterExpression:
            data.modified:
                $exists: true
      - key:
          - name: entity_type
            type: ascending
          - name: state.modified
            type: ascending
        partialFilterExpression:
            state.modified:
                $exists: true
      - key:
          - name: state.exams.states.current
            type: ascending
          - name: state.exams.states.apply
            type: ascending
        partialFilterExpression:
            state.exams.states:
                $exists: true
    settings:
        collection: qc_entities
        connection: qc
        database: qc
qc_passes:
    indexes:
      - key:
          - name: entity_type
            type: ascending
          - name: entity_id
            type: ascending
          - name: exams
            type: ascending
    settings:
        collection: qc_passes
        connection: qc
        database: qc
queue_waiting_times:
    indexes:
      - key:
          - name: zone_id
            type: ascending
          - name: class_name
            type: ascending
          - name: grade
            type: ascending
        unique: true
    settings:
        collection: queue_waiting_times
        connection: taxi
        database: dbtaxi
queues_settings:
    indexes:
      - key: zone_id
        unique: true
    settings:
        collection: queues_settings
        connection: taxi
        database: dbtaxi
ratelimits:
    settings:
        collection: ratelimits
        connection: noncritical
        database: dbprocessing
reaction_tests:
    indexes:
      - key:
          - name: unique_driver_id
            type: hashed
      - key: updated
    settings:
        collection: reaction_tests
        connection: status_history
        database: dbstatus_history
referral_clients:
    indexes:
      - key: created
      - key: yandex_login
        unique: true
    settings:
        collection: clients
        connection: referral
        database: dbreferral
referral_orders:
    indexes:
      - key: client_id
    settings:
        collection: orders
        connection: referral
        database: dbreferral
referral_sources:
    indexes:
      - key: client_id
    settings:
        collection: sources
        connection: referral
        database: dbreferral
replication_queue_uploads:
    settings:
        collection: replication_queue_uploads
        connection: replication_queue
        database: replication_queue
reposition_points:
    settings:
        collection: reposition_points
        connection: drivers
        database: dbdrivers
reposition_usages:
    settings:
        collection: reposition_usages
        connection: drivers
        database: dbdrivers
requirements:
    settings:
        collection: requirements
        connection: taxi
        database: dbtaxi
rfid_labels:
    settings:
        collection: rfid_labels
        connection: taxi
        database: dbtaxi
route_sharing_keys:
    indexes:
      - key: k
        unique: true
      - expireAfterSeconds: 3600
        key: s
    settings:
        collection: route_sharing_keys
        connection: noncritical
        database: dbprocessing
routeinfo_apikeys:
    settings:
        collection: routeinfo_apikeys
        connection: taxi
        database: dbtaxi
script_logs:
    settings:
        collection: script_logs
        connection: logs
        database: dblogs
scripts:
    indexes:
      - key:
          - name: created_by
            type: ascending
          - name: created
            type: descending
      - key: is_reported
      - key:
          - name: status
            type: ascending
          - name: created
            type: descending
    settings:
        collection: scripts
        connection: noncritical
        database: dbprocessing
services:
    settings:
        collection: services
        connection: taxi
        database: dbtaxi
skipped_subventions:
    settings:
        collection: skipped_subventions
        connection: misc
        database: dbmisc
slice_groups:
    settings:
        collection: slice_groups
        connection: taxi
        database: dbtaxi
sms_queue:
    indexes:
      - key: group_id
      - key: task_id
    settings:
        collection: sms_queue
        connection: taxi
        database: dbtaxi
staff:
    indexes:
      - key: yandex_login
        sparse: true
        unique: true
      - key: yandex_team_login
        sparse: true
        unique: true
    settings:
        collection: staff
        connection: taxi
        database: dbtaxi
staff_group:
    settings:
        collection: staff_group
        connection: taxi
        database: dbtaxi
staging_order_proc:
    indexes:
      - key: aliases.id
      - key: reorder.id
        sparse: true
      - key: updated
    settings:
        collection: order_proc
        connection: replication_queue
        database: replication_queue
static:
    settings:
        collection: static
        connection: taxi
        database: dbtaxi
status_history:
    indexes:
      - expireAfterSeconds: 172800
        key: created
      - key:
          - name: driver_id
            type: ascending
          - name: created
            type: ascending
        unique: true
      - key:
          - name: driver_id
            type: hashed
      - key: updated
    settings:
        collection: status_history
        connection: status_history
        database: dbstatus_history
stq:
    indexes:
      - key: eta
      - key: lock_id
    settings:
        collection: stq
        connection: stq
        database: dbstq
stq_counter:
    settings:
        collection: stq_counter
        connection: stq
        database: dbstq
subvention_geoareas:
    indexes:
      - key: created
      - key:
          - name: geometry
            type: 2dsphere
      - key: name
    settings:
        collection: subvention_geoareas
        connection: taxi
        database: dbtaxi
subvention_invoices:
    indexes:
      - key: alias_id
        unique: true
      - key: updated
        sparse: true
    settings:
        collection: subvention_invoices
        connection: billing
        database: dbbilling
subvention_reasons:
    indexes:
      - key: alias_id
        unique: true
      - key:
          - name: driver_id
            type: ascending
          - name: due
            type: ascending
      - key: order_id
        unique: true
      - expireAfterSeconds: 2419200
        key: updated
    settings:
        collection: subvention_reasons
        connection: subvention_reasons
        database: dbsubvention_reasons
subvention_rules:
    indexes:
      - key: confirmation_id
        sparse: true
        unique: true
      - key:
          - name: group_id
            type: ascending
          - name: group_member_id
            type: ascending
        partialFilterExpression:
            group_member_id:
                $exists: true
        unique: true
      - key:
          - name: tariffzone
            type: ascending
          - name: end
            type: ascending
      - key: updated
    settings:
        collection: subvention_rules
        connection: taxi
        database: dbtaxi
subventions:
    indexes:
      - key:
          - name: a
            type: ascending
          - name: v
            type: descending
        unique: true
      - key:
          - name: c
            type: ascending
          - name: p
            type: ascending
      - key:
          - name: od
            type: ascending
          - name: p
            type: ascending
      - key:
          - name: p
            type: ascending
          - name: od
            type: descending
      - key:
          - name: p
            type: ascending
          - name: od
            type: ascending
        partialFilterExpression:
            ts: no_offer
      - key:
          - name: ts
            type: ascending
          - name: c
            type: ascending
      - key:
          - name: u
            type: ascending
          - name: p
            type: ascending
    settings:
        collection: subventions
        connection: billing
        database: dbbilling
supercars:
    settings:
        collection: supercars
        connection: taxi
        database: dbtaxi
support_chatterbox:
    settings:
        collection: support_chatterbox
        connection: misc
        database: dbmisc
support_macros:
    settings:
        collection: support_macros
        connection: misc
        database: dbmisc
support_promocodes:
    indexes:
      - key: code
        unique: true
      - key: created
      - key: operator_login
      - key: phone_id
      - key: phone_type
      - key: series_id
      - key: zendesk_ticket
    settings:
        collection: support_promocodes
        connection: taxi
        database: dbtaxi
surge_maps:
    indexes:
      - key:
          - name: show_min
            type: hashed
      - key:
          - name: tlbr
            type: 2dsphere
      - expireAfterSeconds: 604800
        key: ts
    settings:
        collection: surge_maps
        connection: surge_analytics
        database: dbsurge_analytics
surge_pins:
    indexes:
      - expireAfterSeconds: 600
        key: c
      - key:
          - name: g
            type: 2d
    settings:
        collection: surge_pins
        connection: pinstats
        database: dbpinstats
surge_price_areas:
    indexes:
      - key:
          - name: g
            type: 2d
    settings:
        collection: surge_price_areas
        connection: taxi
        database: dbtaxi
surge_stats:
    indexes:
      - expireAfterSeconds: 604800
        key: created
      - key:
          - name: surge_id
            type: ascending
          - name: created
            type: descending
    settings:
        collection: surge_stats
        connection: pinstats
        database: dbpinstats
surge_zones:
    settings:
        collection: surge_zones
        connection: taxi
        database: dbtaxi
tariff_settings:
    indexes:
      - key: country
      - key: hz
        unique: true
      - key: updated
    settings:
        collection: tariff_settings
        connection: taxi
        database: dbtaxi
tariffs:
    indexes:
      - key: categories.id
        unique: true
      - key: confirmation_id
        sparse: true
        unique: true
      - key:
          - name: date_to
            type: ascending
          - name: home_zone
            type: ascending
      - key: updated
    settings:
        collection: tariffs
        connection: taxi
        database: dbtaxi
taximeter_balance_changes:
    indexes:
      - expireAfterSeconds: 259200
        key: created
      - key:
          - name: created
            type: ascending
          - name: _id
            type: ascending
      - key:
          - name: trust_payment_id
            type: ascending
          - name: payment_type
            type: ascending
          - name: sequence_number
            type: descending
        unique: true
    settings:
        collection: taximeter_balance_changes
        connection: driver_payments
        database: dbdriver_payments
taximeter_balance_changes_update_tasks:
    indexes:
      - expireAfterSeconds: 2592000
        key: finished_at
      - key:
          - name: to_date
            type: descending
    settings:
        collection: taximeter_balance_changes_update_tasks
        connection: driver_payments
        database: dbdriver_payments
taximeter_newsletters:
    indexes:
      - key: author
      - key: created
      - key: request_id
        unique: true
      - key: schedule.repeat
      - key: status
      - key:
          - name: status
            type: ascending
          - name: archived_at
            type: ascending
      - key: type
      - key: updated
    settings:
        collection: taximeter_newsletters
        connection: misc
        database: dbmisc
taximeter_reports_requests:
    indexes:
      - key: confirmation_token
        unique: true
      - expireAfterSeconds: 86400
        key: updated
    settings:
        collection: taximeter_reports_requests
        connection: reports
        database: dbreports
terminals:
    indexes:
      - key: created
    settings:
        collection: terminals
        connection: taxi
        database: dbtaxi
tracks_airport_queue:
    indexes:
      - key:
          - name: driver_id
            type: ascending
          - name: zone_id
            type: ascending
        unique: true
      - expireAfterSeconds: 0
        key: time_exited
    settings:
        collection: airport_queue
        connection: tracks
        database: tracks
tracks_driver_statuses:
    indexes:
      - expireAfterSeconds: 86400
        key: u
    settings:
        collection: driver_statuses
        connection: tracks
        database: tracks
tracks_frozen:
    indexes:
      - key: l
        unique: true
      - key: n
        unique: true
      - key:
          - name: n
            type: ascending
          - name: l
            type: ascending
        unique: true
      - expireAfterSeconds: 0
        key: t
    settings:
        collection: frozen
        connection: tracks
        database: tracks
tracks_short:
    indexes:
      - expireAfterSeconds: 10800
        key: u
    settings:
        collection: short
        connection: tracks
        database: tracks
tracks_status_history:
    indexes:
      - key:
          - name: i
            type: ascending
          - name: u
            type: descending
        unique: true
      - expireAfterSeconds: 43200
        key: u
    settings:
        collection: status_history
        connection: tracks
        database: tracks
tracks_weights:
    indexes:
      - expireAfterSeconds: 0
        key: expire
    settings:
        collection: weights
        connection: tracks
        database: tracks
trust_verifications:
    indexes:
      - expireAfterSeconds: 129600
        key: start_ts
      - key:
          - name: uid
            type: ascending
          - name: binding_id
            type: ascending
          - name: verification_id
            type: ascending
        unique: true
    settings:
        collection: trust_verifications
        connection: taxi
        database: dbtaxi
uber_driver_states:
    settings:
        collection: uber_driver_states
        connection: taxi
        database: dbtaxi
uber_driver_states_dbdrivers:
    settings:
        collection: uber_driver_states
        connection: drivers
        database: dbdrivers
uber_paused_drivers:
    settings:
        collection: uber_paused_drivers
        connection: taxi
        database: dbtaxi
uber_user_places:
    indexes:
      - key: uber_id
    settings:
        collection: uber_user_places
        connection: misc
        database: dbmisc
union_unique_drivers:
    indexes:
      - key: licenses.license
        unique: true
      - key: unique_drivers.unique_driver_id
        unique: true
    settings:
        collection: union_unique_drivers
        connection: taxi
        database: dbtaxi
unique_driver_zone_stats:
    indexes:
      - expireAfterSeconds: 31104000
        key: md
      - key:
          - name: md
            type: ascending
          - name: nz
            type: ascending
          - name: udi
            type: ascending
          - name: tc
            type: ascending
        unique: true
      - key:
          - name: udi
            type: ascending
          - name: md
            type: ascending
    settings:
        collection: unique_driver_zone_stats
        connection: noncritical
        database: dbprocessing
unique_drivers:
    indexes:
      - key: city
        sparse: true
      - key: fraud
        sparse: true
      - key: is_blacklisted
        sparse: true
      - key: licenses.license
        unique: true
      - key: online.e
        sparse: true
      - key: profiles.driver_id
      - key: uber_driver_id
        sparse: true
      - key: updated
    settings:
        collection: unique_drivers
        connection: taxi
        database: dbtaxi
unpaid_credit_orders:
    indexes:
      - key: order_id
        unique: true
      - key: phone_id
        unique: true
      - key: user_id
        unique: true
      - key: yandex_uid
        unique: true
    settings:
        collection: unpaid_credit_orders
        connection: taxi
        database: dbtaxi
used_forwardings:
    indexes:
      - key:
          - name: gateway_id
            type: ascending
          - name: forwarding_id
            type: ascending
        unique: true
    settings:
        collection: used_forwardings
        connection: taxi
        database: dbtaxi
user_antifraud_rules:
    settings:
        collection: user_antifraud_rules
        connection: taxi
        database: dbtaxi
user_chat_messages:
    indexes:
      - key: messages.id
        unique: true
      - key: messages.timestamp
      - key:
          - name: open
            type: ascending
          - name: support_timestamp
            type: ascending
      - key: send_push
        partialFilterExpression:
            open: true
            visible: true
      - key: ticket_id
      - key:
          - name: user_phone_id
            type: ascending
          - name: visible
            type: ascending
          - name: open
            type: ascending
      - key:
          - name: visible
            type: ascending
          - name: open
            type: ascending
          - name: support_timestamp
            type: ascending
    settings:
        collection: user_chat_messages
        connection: user_communication
        database: dbuser_communication
user_consent:
    indexes:
      - expireAfterSeconds: 15811200
        key: created
    settings:
        collection: user_consent
        connection: taxi
        database: dbtaxi
user_devices:
    indexes:
      - key: updated
    settings:
        collection: user_devices
        connection: users
        database: dbusers
user_discounts:
    indexes:
      - key: confirmation_id
        sparse: true
        unique: true
      - key: discounts.id
        sparse: true
        unique: true
    settings:
        collection: user_discounts
        connection: taxi
        database: dbtaxi
user_emails:
    indexes:
      - key: confirmation_code
        unique: true
      - key: email
      - key: updated
    settings:
        collection: user_emails
        connection: users
        database: dbusers
user_fsbanners:
    indexes:
      - key: banners_enabled
    settings:
        collection: user_fsbanners
        connection: gprstimings
        database: gprstimings
user_monthly_stats:
    settings:
        collection: user_monthly_stats
        connection: taxi
        database: dbtaxi
user_phones:
    indexes:
      - key: blacklist
      - key: mqc
        sparse: true
      - key:
          - name: phone
            type: ascending
          - name: type
            type: ascending
        unique: true
      - key: taxi_staff
        sparse: true
      - key: updated
      - key: yandex_staff
        sparse: true
    settings:
        collection: user_phones
        connection: users
        database: dbusers
user_places:
    indexes:
      - expireAfterSeconds: 604800
        key: drafted
      - key: phone_id
      - key: yandex_uid
        sparse: true
    settings:
        collection: user_places
        connection: taxi
        database: dbtaxi
user_settings:
    indexes:
      - key: phone_id
        unique: true
    settings:
        collection: user_settings
        connection: taxi
        database: dbtaxi
users:
    indexes:
      - key:
          - name: authorized
            type: ascending
          - name: created
            type: descending
      - key: banners_enabled
      - key: old_yandex_uuid
        sparse: true
      - key: phone
      - key: phone_id
      - key: uber_id
        sparse: true
      - key: updated
      - key: yandex_uid
      - key: yandex_uuid
    settings:
        collection: users
        connection: users
        database: dbusers
users_order_count:
    settings:
        collection: users_order_count
        connection: misc
        database: dbmisc
utils_users:
    settings:
        collection: utils_users
        connection: taxi
        database: dbtaxi
vip_users:
    settings:
        collection: vip_users
        connection: taxi
        database: dbtaxi
voice_gateways:
    settings:
        collection: voice_gateways
        connection: taxi
        database: dbtaxi
voice_gateways_zones:
    settings:
        collection: voice_gateways_zones
        connection: taxi
        database: dbtaxi
vouchers:
    indexes:
      - key: code
        unique: true
      - expireAfterSeconds: 172800
        key: created
      - key: offer_id
        unique: true
      - key: payment.payment_id
        unique: true
    settings:
        collection: vouchers
        connection: misc
        database: dbmisc
whitelist_history:
    indexes:
      - key:
          - name: car_number
            type: ascending
          - name: is_last
            type: ascending
        partialFilterExpression:
            is_last:
                $exists: true
        unique: true
      - key:
          - name: created
            type: descending
      - key:
          - name: till
            type: descending
          - name: is_last
            type: ascending
        sparse: true
    settings:
        collection: whitelist_history
        connection: misc
        database: dbmisc
workshift_rules:
    indexes:
      - key: request_id
        unique: true
    settings:
        collection: workshift_rules
        connection: taxi
        database: dbtaxi
yandex_counters:
    settings:
        collection: yandex_counters
        connection: userstats
        database: dbuserstats
yt_imports:
    settings:
        collection: yt_imports
        connection: misc
        database: dbmisc
yt_replications:
    settings:
        collection: yt_replications
        connection: taxi
        database: dbtaxi
yt_uploads:
    settings:
        collection: yt_uploads
        connection: misc
        database: dbmisc
zendesk_form_integrations:
    indexes:
      - expireAfterSeconds: 604800
        key: created
    settings:
        collection: zendesk_forms_integrations
        connection: misc
        database: dbmisc
zendesk_forms_templates:
    settings:
        collection: zendesk_forms_templates
        connection: taxi
        database: dbtaxi
zendesk_messages:
    settings:
        collection: zendesk_messages
        connection: user_communication
        database: dbuser_communication
