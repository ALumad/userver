{
  "config_vars": "config_vars.development.json",
  "components_manager": {
    "coro_pool": {
      "initial_size": 500,
      "max_size": 5000
    },
    "event_thread_pool": {
      "threads": "$event_threads",
      "threads#fallback": 2
    },
    "task_processors": [
      {
        "name": "main-task-processor",
        "worker_threads": "$main_worker_threads",
        "worker_threads#fallback": 3,
        "thread_name": "main-worker"
      },
      {
        "name": "second-task-processor",
        "worker_threads": 1,
        "thread_name": "second-worker"
      },
      {
        "name": "mongo-task-processor",
        "worker_threads": 5,
        "thread_name": "mongo-worker"
      }
    ],
    "default_task_processor": "main-task-processor",
    "components": [
      {
        "name": "logging",
        "loggers": {
          "default": {
            "file_path": "server.log",
            "level": "$logger_level",
            "level#fallback": "info",
            "flush_on": "$logger_level",
            "flush_on#fallback": "info",
            "overflow_behavior": "block"
          },
          "access": {
            "file_path": "access.log",
            "pattern": "[%Y-%m-%d %H:%M:%S.%f %z] %v"
          },
          "access-tskv": {
            "file_path": "access_tskv.log",
            "pattern": "tskv\ttskv_format=taxi_driver_authorizer\ttimestamp=%Y-%m-%dT%H:%M:%S\ttimezone=%z%v"
          }
        }
      },
      {
        "name": "server",
        "listener": {
          "connection": {
            "in_buffer_size": 32768,
            "requests_queue_size_threshold": 100
          },
          "port": 1180,
          "monitor_port": 1188
        },
        "logger_access": "access",
        "logger_access_tskv": "access-tskv",
        "task_processor": "main-task-processor"
      },
      {
        "name": "redis-sentinel-thread-pool",
        "thread_name": "redis-sentinels",
        "threads": 1
      },
      {
        "name": "redis-thread-pool",
        "thread_name": "redis-client",
        "threads": "$redis_threads",
        "threads#fallback": 3
      },
      {
        "name": "secdist",
        "config": "secdist_dev.json"
      },
      {
        "name": "redis",
        "thread_pool": "redis-thread-pool",
        "sentinel_thread_pool": "redis-sentinel-thread-pool",
        "task_processor": "main-task-processor",
        "groups": [
          {
            "db": "taximeter-base",
            "config_name": "taximeter-base"
          }
        ]
      },
      {
        "name": "mongo-taxi",
        "task_processor": "mongo-task-processor",
        "dbalias": "taxi"
      },
      {
        "name": "taxi-config",
        "update_interval_ms": 5000,
        "full_update_interval_ms": 60000,
        "fallback_path": "taxi_config_fallback.development.json"
      },
      {
        "name": "http-server-settings"
      },
      {
        "name": "handler-server-monitor",
        "path": "/*",
        "task_processor": "main-task-processor"
      },
      {
        "name": "handler-ping",
        "path": "/ping",
        "task_processor": "second-task-processor"
      },
      {
        "name": "handler-driver-session",
        "path": "/driver_session",
        "task_processor": "main-task-processor",
        "session_ttl_update_enabled": "$session_ttl_update_enabled",
        "session_ttl_update_enabled#fallback": false,
        "parse_args_from_body": true
      }
    ]
  }
}
